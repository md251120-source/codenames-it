<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Codenames ‚Äî IT Support</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:linear-gradient(135deg,#dbeafe,#fef3c7);
}

h1{text-align:center;margin-top:15px}

.topbar{
  display:flex;
  justify-content:center;
  gap:25px;
  font-weight:bold;
  margin:10px;
}

.board{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:12px;
  max-width:1000px;
  margin:20px auto;
}

.card{
  padding:20px;
  border-radius:14px;
  background:white;
  cursor:pointer;
  font-weight:bold;
  border:2px solid #ddd;
  transition:0.2s;
  position:relative;
}

.card:hover{transform:scale(1.05)}

.card.revealed.blue{background:#2563eb;color:white}
.card.revealed.red{background:#ef4444;color:white}
.card.revealed.neutral{background:#e5e7eb}
.card.revealed.black{background:black;color:white}

.overlay{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  font-size:40px;
  font-weight:bold;
  color:white;
  z-index:1000;
}

button{
  padding:8px 16px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-weight:bold;
}

.controls{
  text-align:center;
  margin:10px;
}

.timer{
  text-align:center;
  font-weight:bold;
}
</style>
</head>
<body>

<h1>üõ†Ô∏è Codenames ‚Äî IT Support</h1>

<div class="topbar">
  <div>üîµ Blue left: <span id="blueCount"></span></div>
  <div>üî¥ Red left: <span id="redCount"></span></div>
  <div>Turn: <span id="turnText"></span></div>
</div>

<div class="controls">
  <button onclick="newGame()">New Game</button>
  <button onclick="toggleSpymaster()">Toggle Spymaster</button>
  <button onclick="startTimer()">Start 60s Timer</button>
</div>

<div class="timer">
  ‚è±Ô∏è <span id="timerText">OFF</span>
</div>

<div class="board" id="board"></div>

<div class="overlay" id="overlay"></div>

<script>
const words=[
"VPN","Firewall","Router","Switch","Server",
"Backup","Restore","Password","MFA","DNS",
"DHCP","Ticket","Outage","Printer","Email",
"Patch","Antivirus","Cloud","Database","IP",
"WiFi","Hardware","Software","Account","Support"
];

let cards=[];
let turn="blue";
let blueLeft=9;
let redLeft=8;
let spymaster=false;
let timerInterval=null;
let timeLeft=0;

function shuffle(a){
 for(let i=a.length-1;i>0;i--){
  let j=Math.floor(Math.random()*(i+1));
  [a[i],a[j]]=[a[j],a[i]];
 }
 return a;
}

function newGame(){
 let colors=[
  ...Array(9).fill("blue"),
  ...Array(8).fill("red"),
  ...Array(7).fill("neutral"),
  "black"
 ];
 shuffle(colors);
 shuffle(words);

 cards=[];
 for(let i=0;i<25;i++){
  cards.push({word:words[i],color:colors[i],revealed:false});
 }

 turn="blue";
 blueLeft=9;
 redLeft=8;
 stopTimer();
 render();
}

function render(){
 const board=document.getElementById("board");
 board.innerHTML="";
 cards.forEach((card,i)=>{
  const div=document.createElement("div");
  div.className="card";
  if(card.revealed){
   div.classList.add("revealed",card.color);
  }
  if(spymaster && !card.revealed){
   div.style.borderColor=card.color;
  }
  div.innerText=card.word;
  div.onclick=()=>clickCard(i);
  board.appendChild(div);
 });

 document.getElementById("blueCount").innerText=blueLeft;
 document.getElementById("redCount").innerText=redLeft;
 document.getElementById("turnText").innerText=turn.toUpperCase();
}

function clickCard(i){
 let card=cards[i];
 if(card.revealed) return;

 card.revealed=true;

 if(card.color==="black"){
  showLose(turn);
  return;
 }

 if(card.color===turn){
  if(turn==="blue") blueLeft--;
  else redLeft--;

  if(blueLeft===0) showWin("BLUE TEAM");
  if(redLeft===0) showWin("RED TEAM");
 }else{
  turn=turn==="blue"?"red":"blue";
 }

 render();
}

function showWin(text){
 const overlay=document.getElementById("overlay");
 overlay.style.background="green";
 overlay.innerText=text+" WINS üéâ";
 overlay.style.display="flex";
 stopTimer();
}

function showLose(team){
 const overlay=document.getElementById("overlay");
 overlay.style.background="black";
 overlay.innerText=team.toUpperCase()+" LOST üíÄ";
 overlay.style.display="flex";
 stopTimer();
}

function toggleSpymaster(){
 spymaster=!spymaster;
 render();
}

function startTimer(){
 stopTimer();
 timeLeft=60;
 document.getElementById("timerText").innerText=timeLeft+"s";
 timerInterval=setInterval(()=>{
  timeLeft--;
  document.getElementById("timerText").innerText=timeLeft+"s";
  if(timeLeft<=0){
   clearInterval(timerInterval);
   turn=turn==="blue"?"red":"blue";
   render();
  }
 },1000);
}

function stopTimer(){
 if(timerInterval){
  clearInterval(timerInterval);
 }
 document.getElementById("timerText").innerText="OFF";
}

newGame();
</script>

</body>
</html>
